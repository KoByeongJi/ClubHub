## 회원 관리 테스트

### 1. 동아리 가입 신청

사용자가 동아리에 가입을 신청합니다:

```bash
curl -X POST http://localhost:3000/members/join \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $USER_TOKEN" \
  -d '{
    "clubId": "<club-id>"
  }'
```

**예상 응답 (201 Created)**:

```json
{
  "id": "m1a2b3c4-d5e6-4f7g-h8i9-j0k1l2m3n4o5",
  "clubId": "<club-id>",
  "userId": "<user-id>",
  "role": "member",
  "status": "pending",
  "requestedAt": "2025-12-11T10:00:00.000Z"
}
```

---

### 2. 가입 신청 목록 조회 (회장만)

회장이 동아리의 가입 신청 목록을 조회합니다:

```bash
curl -X GET http://localhost:3000/members/club/<clubId>/pending \
  -H "Authorization: Bearer $OWNER_TOKEN"
```

**예상 응답**:

```json
[
  {
    "id": "m1a2b3c4-d5e6-4f7g-h8i9-j0k1l2m3n4o5",
    "clubId": "<club-id>",
    "userId": "<user-id>",
    "role": "member",
    "status": "pending",
    "requestedAt": "2025-12-11T10:00:00.000Z"
  }
]
```

---

### 3. 가입 신청 승인 (회장만)

```bash
curl -X POST http://localhost:3000/members/club/<clubId>/approve \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $OWNER_TOKEN" \
  -d '{
    "memberId": "<member-id>"
  }'
```

**예상 응답**:

```json
{
  "id": "m1a2b3c4-d5e6-4f7g-h8i9-j0k1l2m3n4o5",
  "clubId": "<club-id>",
  "userId": "<user-id>",
  "role": "member",
  "status": "approved",
  "requestedAt": "2025-12-11T10:00:00.000Z",
  "approvedAt": "2025-12-11T10:05:00.000Z"
}
```

---

### 4. 가입 신청 거절 (회장만)

```bash
curl -X POST http://localhost:3000/members/club/<clubId>/reject \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $OWNER_TOKEN" \
  -d '{
    "memberId": "<member-id>"
  }'
```

---

### 5. 회원 목록 조회 (전체 공개)

```bash
curl -X GET http://localhost:3000/members/club/<clubId>
```

**예상 응답**:

```json
[
  {
    "id": "m1a2b3c4-d5e6-4f7g-h8i9-j0k1l2m3n4o5",
    "clubId": "<club-id>",
    "userId": "<user-id>",
    "role": "member",
    "status": "approved",
    "requestedAt": "2025-12-11T10:00:00.000Z",
    "approvedAt": "2025-12-11T10:05:00.000Z"
  }
]
```

---

### 6. 동아리 탈퇴 (본인)

```bash
curl -X DELETE http://localhost:3000/members/club/<clubId>/leave \
  -H "Authorization: Bearer $USER_TOKEN"
```

---

### 7. 회원 강제 탈퇴 (회장만)

```bash
curl -X DELETE http://localhost:3000/members/club/<clubId>/remove/<memberId> \
  -H "Authorization: Bearer $OWNER_TOKEN"
```

---

### 8. 회원 권한 변경 (회장만)

회원을 부회장(vice_president) 또는 관리자(manager)로 승격할 수 있습니다:

```bash
curl -X PATCH http://localhost:3000/members/club/<clubId>/role/<memberId> \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $OWNER_TOKEN" \
  -d '{
    "memberId": "<member-id>",
    "role": "vice_president"
  }'
```

**역할 종류**:

- `member` - 일반 회원
- `vice_president` - 부회장
- `manager` - 관리자

**예상 응답**:

```json
{
  "id": "m1a2b3c4-d5e6-4f7g-h8i9-j0k1l2m3n4o5",
  "clubId": "<club-id>",
  "userId": "<user-id>",
  "role": "vice_president",
  "status": "approved",
  "requestedAt": "2025-12-11T10:00:00.000Z",
  "approvedAt": "2025-12-11T10:05:00.000Z"
}
```
